"use strict";(self.webpackChunkcases_database_v2=self.webpackChunkcases_database_v2||[]).push([[168],{9168:(b,i,n)=>{n.r(i),n.d(i,{LoginModule:()=>m});var c=n(6895),t=n(4006),g=n(5698),o=n(4650),f=n(8314),u=n(7009),l=n(1253);const p=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:(()=>{class s{constructor(e,a,d,h){this.afs=e,this._messageBar=a,this._router=d,this._fb=h,this.afs.collection("auth").doc("0Bp2KfpGJGMTaRpXqlGO").update({userValid:!1}),this.form=this._fb.group({email:["",t.kI.required],password:["",t.kI.required]})}ngOnInit(){this.afs.collection("auth").doc("0Bp2KfpGJGMTaRpXqlGO").valueChanges().pipe((0,g.q)(1)).subscribe(a=>{console.log("changes get",a),this.authUser=a})}onSubmit(){console.log("form",this.form.value),this.userValid()?(console.log("jdhfbjsdfh sd"),this._router.navigate(["/case/list"]),this._messageBar.open("Login Successful","OKAY",{duration:3e3})):(localStorage.clear(),this._messageBar.open("Failed to login! email password incorrect","OKAY",{duration:3e3}))}userValid(){if(!this.authUser)return!1;if(this.authUser.email===this.form.get("email")?.value&&this.authUser.password===this.form.get("password")?.value){const e={userValid:!0};return this.afs.collection("auth").doc("0Bp2KfpGJGMTaRpXqlGO").update(e),!0}{const e={userValid:!1};return this.afs.collection("auth").doc("0Bp2KfpGJGMTaRpXqlGO").update(e),!1}}}return s.\u0275fac=function(e){return new(e||s)(o.Y36(f.ST),o.Y36(u.ux),o.Y36(l.F0),o.Y36(t.qu))},s.\u0275cmp=o.Xpm({type:s,selectors:[["app-login"]],decls:16,vars:2,consts:[[1,"bg-gray-900","flex","justify-center","items-center","h-screen"],[1,"bg-gray-800","p-8","rounded-lg","shadow-lg"],[1,"text-3xl","font-semibold","text-gray-100","mb-4"],[1,"space-y-4",3,"formGroup"],["for","username",1,"block","text-gray-300"],["formControlName","email","type","text","id","username","name","username","required","",1,"w-full","bg-gray-700","text-gray-100","rounded-md","px-4","py-2","focus:outline-none","focus:ring","focus:ring-indigo-500"],["for","password",1,"block","text-gray-300"],["formControlName","password","type","password","id","password","name","password","required","",1,"w-full","bg-gray-700","text-gray-100","rounded-md","px-4","py-2","focus:outline-none","focus:ring","focus:ring-indigo-500"],["type","submit",1,"w-full","mb-2","bg-indigo-600","text-gray-100","rounded-md","px-4","py-2","hover:bg-indigo-700","focus:outline-none","focus:ring","focus:ring-indigo-500",3,"disabled","click"]],template:function(e,a){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),o._uU(3,"Login"),o.qZA(),o.TgZ(4,"form",3)(5,"div")(6,"label",4),o._uU(7,"Username"),o.qZA(),o._UZ(8,"input",5),o.qZA(),o.TgZ(9,"div")(10,"label",6),o._uU(11,"Password"),o.qZA(),o._UZ(12,"input",7),o.qZA(),o.TgZ(13,"div")(14,"button",8),o.NdJ("click",function(){return a.onSubmit()}),o._uU(15,"Login"),o.qZA()()()()()),2&e&&(o.xp6(4),o.Q6J("formGroup",a.form),o.xp6(10),o.Q6J("disabled",a.form.invalid))},dependencies:[t._Y,t.Fj,t.JJ,t.JL,t.Q7,t.sg,t.u]}),s})()}];let m=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({imports:[c.ez,t.UX,t.u5,u.ZX,l.Bz.forChild(p)]}),s})()}}]);